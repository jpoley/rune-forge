# Pre-commit hooks configuration for Node.js/TypeScript projects
# https://pre-commit.com/
#
# Install: pip install pre-commit && pre-commit install
# Run manually: pre-commit run --all-files
# Update hooks: pre-commit autoupdate
#
# Generated by flowspec init for Node.js projects

repos:
  # =============================================================================
  # Universal hooks
  # =============================================================================
  - repo: https://github.com/pre-commit/pre-commit-hooks
    rev: v5.0.0
    hooks:
      - id: trailing-whitespace
        name: Trim trailing whitespace
      - id: end-of-file-fixer
        name: Fix end of files
      - id: check-yaml
        name: Check YAML syntax
        args: [--unsafe]
      - id: check-json
        name: Check JSON syntax
      - id: check-merge-conflict
        name: Check for merge conflict markers
      - id: check-added-large-files
        name: Check for large files
        args: [--maxkb=500]
      - id: detect-private-key
        name: Detect private keys

  # =============================================================================
  # Node.js/TypeScript hooks
  # =============================================================================
  - repo: https://github.com/pre-commit/mirrors-prettier
    rev: v4.0.0-alpha.8
    hooks:
      - id: prettier
        name: Format with Prettier
        types_or: [javascript, jsx, ts, tsx, json, yaml, markdown, css, scss]

  - repo: https://github.com/pre-commit/mirrors-eslint
    rev: v9.16.0
    hooks:
      - id: eslint
        name: Lint with ESLint
        files: \.[jt]sx?$
        types: [file]
        additional_dependencies:
          - eslint@9.16.0
          - typescript@5.7.2
          - '@typescript-eslint/parser@8.18.0'
          - '@typescript-eslint/eslint-plugin@8.18.0'

  # =============================================================================
  # Optional Node.js hooks (uncomment as needed)
  # =============================================================================
  # TypeScript type checking:
  # - repo: local
  #   hooks:
  #     - id: tsc
  #       name: TypeScript type check
  #       entry: npx tsc --noEmit
  #       language: system
  #       files: \.[jt]sx?$
  #       pass_filenames: false
  #
  # npm audit for security:
  # - repo: local
  #   hooks:
  #     - id: npm-audit
  #       name: npm security audit
  #       entry: npm audit --audit-level=high
  #       language: system
  #       pass_filenames: false
  #       stages: [pre-commit]
  #
  # Stylelint for CSS:
  # - repo: https://github.com/awebdeveloper/pre-commit-stylelint
  #   rev: 0.0.2
  #   hooks:
  #     - id: stylelint
  #       additional_dependencies:
  #         - stylelint@16.11.0
  #         - stylelint-config-standard@36.0.1

  # =============================================================================
  # Flowspec security scanning (recommended)
  # =============================================================================
  # Uncomment for fast security scanning before commits:
  # - repo: local
  #   hooks:
  #     - id: flowspec-security-fast
  #       name: Flowspec Security Scan (fast)
  #       entry: flowspec security scan --fast --changed-only --fail-on critical
  #       language: system
  #       pass_filenames: false
  #       stages: [pre-commit]
