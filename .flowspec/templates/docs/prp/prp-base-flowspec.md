# Product Requirements Prompt (PRP): {{FEATURE_NAME}}

> **Purpose**: This PRP is a self-contained context packet. If you give this document to an LLM as the only context, it should have everything needed to work on this feature.
>
> **Generated From**: `/flow:generate-prp` command
> **Task ID**: {{TASK_ID}}
> **Generated Date**: {{DATE}}

---

## FEATURE SUMMARY

<!-- Brief 2-3 sentence summary of what this feature does and why it matters -->

{{FEATURE_SUMMARY}}

---

## ALL NEEDED CONTEXT

> This section contains every piece of context required to implement this feature.
> Each subsection is machine-parseable with consistent structure.

### Code Files

<!-- List of source code files relevant to this feature with their purpose -->
<!-- Format: | Path | Purpose | Read Priority | -->

| File Path | Purpose | Read Priority |
|-----------|---------|---------------|
| `{{FILE_PATH_1}}` | {{PURPOSE_1}} | {{PRIORITY_1: High/Medium/Low}} |
| `{{FILE_PATH_2}}` | {{PURPOSE_2}} | {{PRIORITY_2: High/Medium/Low}} |

<!-- Read Priority Guide:
- High: Must read before starting implementation
- Medium: Read when working on related functionality
- Low: Reference if needed
-->

### Docs / Specs

<!-- Links to PRDs, architecture docs, ADRs, and external specifications -->
<!-- Format: | Document | Link | Key Sections | -->

| Document | Link | Key Sections |
|----------|------|--------------|
| PRD | `{{PRD_PATH}}` | {{RELEVANT_SECTIONS}} |
| Functional Spec | `{{SPEC_PATH}}` | {{RELEVANT_SECTIONS}} |
| Technical Spec | `{{TECH_SPEC_PATH}}` | {{RELEVANT_SECTIONS}} |
| ADR | `{{ADR_PATH}}` | {{DECISION_SUMMARY}} |

### Examples

<!-- Relevant example files that demonstrate patterns or expected behavior -->
<!-- Format: | Example | Location | What It Demonstrates | -->

| Example | Location | What It Demonstrates |
|---------|----------|---------------------|
| {{EXAMPLE_NAME_1}} | `{{EXAMPLE_PATH_1}}` | {{WHAT_IT_SHOWS_1}} |
| {{EXAMPLE_NAME_2}} | `{{EXAMPLE_PATH_2}}` | {{WHAT_IT_SHOWS_2}} |

### Known Gotchas

<!-- Historical lessons, pitfalls, and warnings from previous work -->
<!-- Format: | Gotcha | Impact | Mitigation | Source | -->

| Gotcha | Impact | Mitigation | Source |
|--------|--------|------------|--------|
| {{GOTCHA_1}} | {{IMPACT_1}} | {{MITIGATION_1}} | {{SOURCE_TASK_OR_DOC_1}} |
| {{GOTCHA_2}} | {{IMPACT_2}} | {{MITIGATION_2}} | {{SOURCE_TASK_OR_DOC_2}} |

<!-- Gotcha Sources:
- memory/learnings/*.md files
- Previous task implementation notes
- ADR consequences sections
- Post-mortem documents
-->

### Related Backlog Tasks

<!-- Tasks that relate to this feature: dependencies, blockers, related work -->
<!-- Format: | Task ID | Title | Relationship | Status | -->

| Task ID | Title | Relationship | Status |
|---------|-------|--------------|--------|
| `{{TASK_ID_1}}` | {{TITLE_1}} | {{RELATIONSHIP_1: Depends On/Blocked By/Related}} | {{STATUS_1}} |
| `{{TASK_ID_2}}` | {{TITLE_2}} | {{RELATIONSHIP_2: Depends On/Blocked By/Related}} | {{STATUS_2}} |

---

## CODEBASE SNAPSHOT

> Bounded directory tree of the code areas relevant to this feature.
> Generated by `/flow:map-codebase` or manually curated.

```
{{PROJECT_ROOT}}/
├── {{RELEVANT_DIR_1}}/
│   ├── {{FILE_1}}
│   ├── {{FILE_2}}
│   └── {{SUBDIR_1}}/
│       └── {{FILE_3}}
├── {{RELEVANT_DIR_2}}/
│   ├── {{FILE_4}}
│   └── {{FILE_5}}
└── {{RELEVANT_DIR_3}}/
    └── {{FILE_6}}
```

### Key Entry Points

<!-- Main files/functions where implementation should start -->

| Entry Point | Location | Purpose |
|-------------|----------|---------|
| {{ENTRY_POINT_1}} | `{{LOCATION_1}}` | {{PURPOSE_1}} |
| {{ENTRY_POINT_2}} | `{{LOCATION_2}}` | {{PURPOSE_2}} |

### Integration Points

<!-- Where this feature connects with other parts of the system -->

| Integration | File | Function/Method | Notes |
|-------------|------|-----------------|-------|
| {{INTEGRATION_1}} | `{{FILE_1}}` | `{{FUNCTION_1}}` | {{NOTES_1}} |
| {{INTEGRATION_2}} | `{{FILE_2}}` | `{{FUNCTION_2}}` | {{NOTES_2}} |

---

## VALIDATION LOOP

> Specific validation steps for this feature. Not generic "run tests" but feature-specific validation.

### Commands

<!-- Exact shell commands to validate this feature -->
<!-- Include test commands, lint checks, and feature-specific validations -->

```bash
# Run feature-specific tests
{{TEST_COMMAND_1}}

# Run linting for affected files
{{LINT_COMMAND}}

# Run integration tests (if applicable)
{{INTEGRATION_TEST_COMMAND}}

# Feature-specific validation (if applicable)
{{CUSTOM_VALIDATION_COMMAND}}
```

### Expected Success

<!-- What does successful validation look like? Be specific. -->

| Validation | Success Criteria |
|------------|------------------|
| Unit Tests | {{UNIT_TEST_CRITERIA: e.g., "All tests in tests/feature/ pass"}} |
| Lint | {{LINT_CRITERIA: e.g., "Zero errors from ruff check"}} |
| Integration | {{INTEGRATION_CRITERIA: e.g., "API returns 200 for happy path"}} |
| Manual Check | {{MANUAL_CRITERIA: e.g., "Feature visible in UI at /path"}} |

### Known Failure Modes

<!-- Common ways this validation can fail and what they indicate -->

| Failure Pattern | What It Means | How to Fix |
|-----------------|---------------|------------|
| {{FAILURE_1}} | {{MEANING_1}} | {{FIX_1}} |
| {{FAILURE_2}} | {{MEANING_2}} | {{FIX_2}} |
| {{FAILURE_3}} | {{MEANING_3}} | {{FIX_3}} |

---

## ACCEPTANCE CRITERIA

<!-- Copied from the backlog task for easy reference -->

- [ ] {{AC_1}}
- [ ] {{AC_2}}
- [ ] {{AC_3}}
- [ ] {{AC_4}}

---

## LOOP CLASSIFICATION

> Explicit inner vs outer loop classification for this feature.

### Inner Loop Responsibilities

<!-- Fast, implementation-focused tasks handled by coding agents -->

- [ ] {{INNER_LOOP_TASK_1: e.g., "Write unit tests for new function"}}
- [ ] {{INNER_LOOP_TASK_2: e.g., "Implement API endpoint"}}
- [ ] {{INNER_LOOP_TASK_3: e.g., "Fix linting errors"}}

### Outer Loop Responsibilities

<!-- Planning-focused tasks requiring human review or approval -->

- [ ] {{OUTER_LOOP_TASK_1: e.g., "Review architecture decision"}}
- [ ] {{OUTER_LOOP_TASK_2: e.g., "Approve API contract changes"}}
- [ ] {{OUTER_LOOP_TASK_3: e.g., "Validate security requirements met"}}

---

## IMPLEMENTATION NOTES

<!-- Space for agents to add notes during implementation -->

### Decisions Made

<!-- Document decisions made during implementation -->

| Decision | Rationale | Alternatives Considered |
|----------|-----------|------------------------|
| | | |

### Blockers Encountered

<!-- Track any blockers hit during implementation -->

| Blocker | Status | Resolution |
|---------|--------|------------|
| | | |

### Follow-up Tasks

<!-- Tasks discovered during implementation that should be created -->

- [ ] {{FOLLOW_UP_1}}
- [ ] {{FOLLOW_UP_2}}

---

*PRP Template Version: 1.0.0*
*Based on: context-engineering-intro patterns (archon-inspired)*
